<ion-header [translucent]="true" >
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/homeadmin"></ion-back-button>
      <ion-icon name="home-outline"></ion-icon>
    </ion-buttons>
    
    <ion-title class="ion-text-center">Update Usuario</ion-title>
    
    <ion-buttons slot="end">
      <ion-button (click)="logout()">
        <ion-icon slot="icon-only" name="power"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">


  <ion-card class="card card-radio-btn">
    <ion-card-header class="section-three">
        <h1>Buscar Usuario</h1>
    </ion-card-header>
    <ion-card-content>


    </ion-card-content>
  </ion-card>

  <ion-card class="card card-radio-btn">
      <ion-card-header class="section-three">
          <h1>Crear Usuario</h1>
      </ion-card-header>
      <ion-card-content>

          <form [formGroup]="userForm">

              <ion-item>
                  <ion-input formControlName="nombre" placeholder="Ingrese Usuario"></ion-input>
                  <ion-label *ngIf="userForm.get('nombre')?.hasError('required') && userForm.get('nombre')?.touched" color="danger">Nombre es requerido</ion-label>
              </ion-item>

              <ion-item>
                  <ion-input formControlName="userName" placeholder="Ingrese UserName"></ion-input>
                  <ion-label *ngIf="userForm.get('userName')?.hasError('required') && userForm.get('userName')?.touched" color="danger">Nombre de usuario es requerido</ion-label>
              </ion-item>

              <ion-item>
                  <ion-input type="password" formControlName="password" placeholder="Ingrese Password"></ion-input>
                  <ion-label *ngIf="userForm.get('password')?.hasError('required') && userForm.get('password')?.touched" color="danger">Contraseña es requerida</ion-label>
              </ion-item>

              <ion-item>
                <ion-input type="password" formControlName="confirm_password" placeholder="Confirme Password"></ion-input>
                <ion-label *ngIf="userForm.get('confirm_password')?.hasError('NoPassswordMatch') && userForm.get('confirm_password')?.touched" color="danger">Las contraseñas no coinciden</ion-label>
                <ion-label *ngIf="userForm.get('confirm_password')?.hasError('required') && userForm.get('confirm_password')?.touched" color="danger">Confirmación de contraseña es requerida</ion-label>
              </ion-item>              

              <ion-item>
                <ion-input type="email" formControlName="eMail" placeholder="Ingrese Correo"></ion-input>
                <ion-label *ngIf="userForm.get('eMail')?.hasError('email') && userForm.get('eMail')?.touched" color="danger">Correo no válido</ion-label>
                <ion-label *ngIf="userForm.get('eMail')?.hasError('required') && userForm.get('eMail')?.touched" color="danger">Correo es requerido</ion-label>
              </ion-item>              

              <ion-item>
                  <ion-label>Perfil</ion-label>
                  <ion-select formControlName="idPerfil" placeholder="Seleccione Perfil">
                      <ion-select-option value="0">Administrador</ion-select-option>
                      <ion-select-option value="1">Tecnico</ion-select-option>
                      <ion-select-option value="2">Cliente</ion-select-option>
                  </ion-select>
              </ion-item>

              <ion-item>
                  <ion-label>Cliente</ion-label>
                  <ion-select formControlName="idCliente" placeholder="Seleccione Cliente">
                      <ion-select-option *ngFor="let cliente of clientes" [value]="cliente.id">{{cliente.descripcion}}</ion-select-option>
                  </ion-select>
              </ion-item>

              <br>
              <ion-button (click)="submitForm()" color="success" fill="outline" expand="block">CREAR</ion-button>
          </form>
      </ion-card-content>
  </ion-card>
</ion-content>

<ion-footer>
  <ion-toolbar class="ion-text-center">
      <ion-title>IA 7</ion-title>
  </ion-toolbar>
</ion-footer>
